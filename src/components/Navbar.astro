---
// Navbar.astro
---

<div class="relative z-50 bg-[#F9FAFB]">
    <!-- Gradient Background Container -->
    <div class="absolute inset-0 pointer-events-none -z-10">
      <div class="w-[90vw] h-[4rem] mx-auto left-1/2 -translate-x-1/2 top-0 absolute blur-[120px]" style="background:radial-gradient(ellipse at top, #AFC5E1 60%, transparent 100%)"></div>
    </div>
    
    <!-- Navbar -->
    <nav class="relative border border-1 border-white/20 rounded-lg">
      <div class="mx-auto py-8 max-w-5xl">
        <div class="bg-[#000000]/6 px-4 py-2 rounded-lg border-1 border-white/20 mx-auto w-full flex items-center justify-between">
          <!-- Logo (always left) -->
          <div class="flex items-center gap-4 flex-shrink-0">
            <a href="/" aria-label="Home">
              <img src="/src/assets/logogram.svg" alt="Daily Bazaar Logo" class="h-8 w-auto cursor-pointer" />
            </a>
          </div>

          <!-- Nav Links (center on large screens, hidden on mobile) -->
          <div class="hidden md:flex flex-1 items-center justify-center gap-6 text-base">
            <div class="relative group">
              <button class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors focus:outline-none cursor-pointer whitespace-nowrap text-sm">Services</button>
              <div class="absolute left-0 mt-2 w-40 bg-white border border-gray-100 rounded-lg shadow-lg hidden group-hover:flex flex-col z-50">
                <a href="/services/plumbing" class="block px-4 py-2 text-slate-600 hover:bg-gray-50 whitespace-nowrap text-sm">Plumbing</a>
                <a href="/services/electrician" class="block px-4 py-2 text-slate-600 hover:bg-gray-50 whitespace-nowrap text-sm">Electrician</a>
                <a href="/services/carpentry" class="block px-4 py-2 text-slate-600 hover:bg-gray-50 whitespace-nowrap text-sm">Carpentry</a>
              </div>
            </div>
            <div class="relative group">
              <button class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors focus:outline-none cursor-pointer whitespace-nowrap text-sm">Solutions</button>
              <div class="absolute left-0 mt-2 w-40 bg-white border border-gray-100 rounded-lg shadow-lg hidden group-hover:flex flex-col z-50">
                <a href="/solutions/business" class="block px-4 py-2 text-slate-600 hover:bg-gray-50 whitespace-nowrap text-sm">Business</a>
                <a href="/solutions/home" class="block px-4 py-2 text-slate-600 hover:bg-gray-50 whitespace-nowrap text-sm">Home</a>
                <a href="/solutions/enterprise" class="block px-4 py-2 text-slate-600 hover:bg-gray-50 whitespace-nowrap text-sm">Enterprise</a>
              </div>
            </div>
            <a href="/about" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-sm">About us</a>
            <a href="/contact" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-sm">Contact us</a>
            <a href="/blog" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-sm">Blog</a>
          </div>

          <!-- CTA + Hamburger (right on mobile, only CTA on desktop) -->
          <div class="flex items-center gap-6 flex-shrink-0">
            <button class="px-7 py-2 bg-[#0E5376] hover:bg-[#0E5376]/90 text-white rounded-lg font-medium font-urbanist transition-all cursor-pointer whitespace-nowrap">
              Talk to Us
            </button>
            <button id="navbar-hamburger" class="md:hidden flex flex-col justify-center items-center w-12 h-12 rounded hover:bg-[#0E5376]/10 transition-all" aria-label="Open Menu">
              <span class="block w-7 h-0.5 bg-[#0E5376] mb-1"></span>
              <span class="block w-7 h-0.5 bg-[#0E5376] mb-1"></span>
              <span class="block w-7 h-0.5 bg-[#0E5376]"></span>
            </button>
          </div>
        </div>
      </div>

      <!-- Fullscreen Mobile/Tablet Menu Overlay -->
      <div id="navbar-mobile-menu-overlay" class="hidden fixed inset-0 bg-white z-[100] flex flex-col transition-all duration-300">
        <div class="flex items-center justify-between px-6 py-4 border-b border-[#e6e6e6]">
          <a href="/" aria-label="Home" class="mobile-menu-close">
            <img src="/src/assets/logogram.svg" alt="Daily Bazaar Logo" class="h-8 w-auto cursor-pointer" />
          </a>
          <button class="text-3xl text-[#0E5376] font-bold focus:outline-none mobile-menu-close" aria-label="Close Menu">&times;</button>
        </div>
        <div class="flex-1 flex flex-col justify-center items-center gap-2 px-6">
          <button class="w-full flex justify-between items-center py-3 text-slate-700 font-semibold text-lg border-b border-[#e6e6e6]" data-collapse="mobile-services-collapse">
            Services
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="mobile-services-collapse" class="hidden w-full">
            <a href="/services/plumbing" class="block py-2 pl-6 text-slate-600 hover:text-[#0E5376] whitespace-nowrap">Plumbing</a>
            <a href="/services/electrician" class="block py-2 pl-6 text-slate-600 hover:text-[#0E5376] whitespace-nowrap">Electrician</a>
            <a href="/services/carpentry" class="block py-2 pl-6 text-slate-600 hover:text-[#0E5376] whitespace-nowrap">Carpentry</a>
          </div>
          <button class="w-full flex justify-between items-center py-3 text-slate-700 font-semibold text-lg border-b border-[#e6e6e6]" data-collapse="mobile-solutions-collapse">
            Solutions
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="mobile-solutions-collapse" class="hidden w-full">
            <a href="/solutions/business" class="block py-2 pl-6 text-slate-600 hover:text-[#0E5376] whitespace-nowrap">Business</a>
            <a href="/solutions/home" class="block py-2 pl-6 text-slate-600 hover:text-[#0E5376] whitespace-nowrap">Home</a>
            <a href="/solutions/enterprise" class="block py-2 pl-6 text-slate-600 hover:text-[#0E5376] whitespace-nowrap">Enterprise</a>
          </div>
          <a href="/about" class="block w-full py-3 text-slate-700 hover:text-[#0E5376] text-lg border-b border-[#e6e6e6] text-center mobile-menu-close">About us</a>
          <a href="/contact" class="block w-full py-3 text-slate-700 hover:text-[#0E5376] text-lg border-b border-[#e6e6e6] text-center mobile-menu-close">Contact us</a>
          <a href="/blog" class="block w-full py-3 text-slate-700 hover:text-[#0E5376] text-lg border-b border-[#e6e6e6] text-center mobile-menu-close">Blog</a>
        </div>
        <div class="px-6 pb-8">
          <button class="w-full px-7 py-3 bg-[#0E5376] hover:bg-[#0E5376]/90 text-white rounded-lg font-medium font-urbanist transition-all cursor-pointer whitespace-nowrap text-lg mobile-menu-close">
            Talk to Us
          </button>
        </div>
      </div>
    </nav>
  </div>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function () {
    // Hamburger open
    document.getElementById('navbar-hamburger').addEventListener('click', function () {
      document.getElementById('navbar-mobile-menu-overlay').classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
    });
    // Close buttons
    document.querySelectorAll('.mobile-menu-close').forEach(function (el) {
      el.addEventListener('click', function () {
        document.getElementById('navbar-mobile-menu-overlay').classList.add('hidden');
        document.body.classList.remove('overflow-hidden');
      });
    });
    // Collapsible sections
    document.querySelectorAll('[data-collapse]').forEach(function (btn) {
      btn.addEventListener('click', function () {
        var id = btn.getAttribute('data-collapse');
        var el = document.getElementById(id);
        if (el) el.classList.toggle('hidden');
      });
    });
  });
</script>