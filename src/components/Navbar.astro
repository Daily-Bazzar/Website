---
// Navbar.astro
import { joinWaitlistLink } from "../config/links.ts";
---


<div class="relative z-50">
    <!-- Marquee Section -->
    <div class="w-full bg-[#0e5376] overflow-hidden h-8 flex items-center relative">
      <div class="marquee-track flex absolute left-0 top-0 h-full w-full">
        <div class="marquee-content whitespace-nowrap text-white text-sm font-semibold tracking-wide flex items-center" aria-hidden="true">
          <span class="mx-8 flex items-center gap-2">
            <span class="text-lg">✨</span>
            <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
            <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
          </span>
          <span class="mx-8 flex items-center gap-2">
            <span class="text-lg">✨</span>
            <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
            <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
          </span>
          <span class="mx-8 flex items-center gap-2">
            <span class="text-lg">✨</span>
            <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
            <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
          </span>
        </div>
        <div class="marquee-content whitespace-nowrap text-white text-sm font-semibold tracking-wide flex items-center" aria-hidden="true">
          <span class="mx-8 flex items-center gap-2">
            <span class="text-lg">✨</span>
            <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
            <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
          </span>
          <span class="mx-8 flex items-center gap-2">
            <span class="text-lg">✨</span>
            <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
            <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
          </span>
          <span class="mx-8 flex items-center gap-2">
            <span class="text-lg">✨</span>
            <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
            <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
          </span>
        </div>
      </div>
    </div>
    <style>
      @keyframes marquee-scroll {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
      }
      .marquee-track {
        width: 200%;
        animation: marquee-scroll 36s linear infinite;
      }
      .marquee-content {
        width: 50%;
        min-width: max-content;
        display: flex;
        align-items: center;
      }
    </style>
    <!-- Gradient Background Container -->
    <!-- <div class="absolute inset-0 pointer-events-none -z-10">
      <div class="w-[90vw] h-[4rem] mx-auto left-1/2 -translate-x-1/2 top-0 absolute blur-[120px]" style="background:radial-gradient(ellipse at top, #AFC5E1 60%, transparent 100%)"></div>
    </div> -->
    
    <!-- Navbar -->
    <nav class="fixed w-full bg-[#fff]">
      <div class="mx-auto ">
        <div class="px-24 py-4 mx-auto w-full flex items-center justify-between backdrop-blur-lg">
          <!-- Logo (always left) -->
          <div class="flex items-center gap-4 flex-shrink-0">
            <a href="/" aria-label="Home">
              <img src="/assets/logogram.svg" alt="Daily Bazaar Logo" class="h-8 w-auto cursor-pointer" />
            </a>
          </div>

          <!-- Nav Links (center on large screens, hidden on mobile) -->
          <div class="hidden md:flex flex-1 items-center justify-center gap-1 text-base">
            <a href="/" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-base w-fit hover:bg-[#0E5376]/15 px-4 py-1 transition-all duration-200 rounded-full">Home</a>
            <a href="/about" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-base w-fit hover:bg-[#0E5376]/15 px-4 py-1 transition-all duration-200 rounded-full">About us</a>
            <a href="/contact" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-base w-fit hover:bg-[#0E5376]/15 px-4 py-1 transition-all duration-200 rounded-full">Contact us</a>
            <a href="/blog" class="text-slate-600 hover:text-slate-800 font-medium font-urbanist transition-colors cursor-pointer whitespace-nowrap text-base w-fit hover:bg-[#0E5376]/15 px-4 py-1 transition-all duration-200 rounded-full">Blog</a>
          </div>

          <!-- CTA + Hamburger (right on mobile, only CTA on desktop) -->
          <div class="flex items-center gap-6 flex-shrink-0">
            <a href={joinWaitlistLink} target="_blank" rel="noopener" class="px-7 py-2 bg-[#0E5376] hover:bg-linear-to-tl hover:from-[#0E5376] hover:to-[#1AF4FE]  transition-all duration-300 hover:scale-95

            text-white rounded-lg font-medium font-urbanist cursor-pointer whitespace-nowrap">Join Waitlist</a>
            <button id="navbar-hamburger" class="md:hidden flex flex-col justify-center items-center w-12 h-12 rounded hover:bg-[#0E5376]/10 transition-all" aria-label="Open Menu">
              <span class="block w-7 h-0.5 bg-[#0E5376] mb-1"></span>
              <span class="block w-7 h-0.5 bg-[#0E5376] mb-1"></span>
              <span class="block w-7 h-0.5 bg-[#0E5376]"></span>
            </button>
          </div>
        </div>
      </div>

      <!-- Fullscreen Mobile/Tablet Menu Overlay -->
      <div id="navbar-mobile-menu-overlay" class="hidden fixed inset-0 bg-white z-[100] flex flex-col transition-all duration-300">
        <div class="flex items-center justify-between px-6 py-4 border-b border-[#e6e6e6]">
          <a href="/" aria-label="Home" class="mobile-menu-close">
            <img src="/assets/logogram.svg" alt="Daily Bazaar Logo" class="h-8 w-auto cursor-pointer" />
          </a>
          <button class="text-3xl text-[#0E5376] font-bold focus:outline-none mobile-menu-close" aria-label="Close Menu">&times;</button>
        </div>
        <div class="flex-1 flex flex-col justify-center items-center gap-2 px-6">
          <a href="/about" class="block w-full py-3 text-slate-700 hover:text-[#0E5376] text-lg border-b border-[#e6e6e6] text-center mobile-menu-close">About us</a>
          <a href="/contact" class="block w-full py-3 text-slate-700 hover:text-[#0E5376] text-lg border-b border-[#e6e6e6] text-center mobile-menu-close">Contact us</a>
          <a href="/blog" class="block w-full py-3 text-slate-700 hover:text-[#0E5376] text-lg border-b border-[#e6e6e6] text-center mobile-menu-close">Blog</a>
        </div>
        <div class="px-6 pb-8">
          <a href={joinWaitlistLink} target="_blank" rel="noopener" class="w-full px-7 py-3 bg-[#0E5376] hover:bg-[#1AF4FE]/90 text-white rounded-lg font-medium font-urbanist transition-all cursor-pointer whitespace-nowrap text-lg mobile-menu-close">Join Waitlist</a>
        </div>
      </div>
    </nav>
  </div>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function () {
    // Hamburger open
    document.getElementById('navbar-hamburger').addEventListener('click', function () {
      document.getElementById('navbar-mobile-menu-overlay').classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
    });
    // Close buttons
    document.querySelectorAll('.mobile-menu-close').forEach(function (el) {
      el.addEventListener('click', function () {
        document.getElementById('navbar-mobile-menu-overlay').classList.add('hidden');
        document.body.classList.remove('overflow-hidden');
      });
    });
    // Collapsible sections
    document.querySelectorAll('[data-collapse]').forEach(function (btn) {
      btn.addEventListener('click', function () {
        var id = btn.getAttribute('data-collapse');
        var el = document.getElementById(id);
        if (el) el.classList.toggle('hidden');
      });
    });
  });
</script>