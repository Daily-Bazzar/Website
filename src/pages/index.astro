---
import GlobalLayout from "../layouts/GlobalLayout.astro";
import ServiceCard from "../components/ServiceCard.astro";
import ShopkeeperCTA from "../components/ShopkeeperCTA.astro";
import ServicesSection from "../components/ServicesSection.astro";
import BentoSection from "../components/BentoSection.astro";
import CustomerCTA from "../components/CustomerCTA.astro";
import CategoriesSection from "../components/CategoriesSection.astro";


---

<GlobalLayout>
	<!-- <p class="bg-red-500">index page</p> -->
	<!-- Hero Section replaced with a single image -->
	<section class="relative w-full flex items-center overflow-hidden p-0 aspect-[2.378] md:aspect-[3.115]">
		<div class="absolute z-10 justify-center items-start h-full top-1/2 left-1/2 -translate-x-1/2 hidden -translate-y-10 md:-translate-y-12 w-full flex flex-col items-center">
			<h1 class="font-[Noto_Serif_Display] text-[#204040] text-md md:text-4xl text-center leading-tight max-w-40 md:max-w-md text-balance opacity-85 leading-[-20%] bg-white/70 rounded-xl px-2 py-1 md:bg-transparent md:rounded-none md:px-0 md:py-0">
				The Online Marketplace for Local Shopping and Home Services
			</h1>
		</div>
		<div class="w-full h-full absolute inset-0">
			<picture>
				<source media="(min-width: 768px)" srcset="/services-heroimage-lg.png" id="hero-carousel-img-lg" />
				<source media="(max-width: 767px)" srcset="/services-heroimage-xs.png" id="hero-carousel-img-xs" />
				<img id="hero-carousel-img" src="/services-heroimage-xs.png" alt="Hero Carousel" class="w-full h-full object-cover transition-opacity duration-700" />
			</picture>
		</div>
		<script is:inline>
			let smallImages = ["/services-heroimage-xs.png", "/shopping-heroimage-xs.png"];
			let largeImages = ["/services-heroimage-lg.png", "/shopping-heroimage-lg.png"];
			let idx = 0;
			setInterval(() => {
				idx = (idx + 1) % smallImages.length;
				const img = document.getElementById('hero-carousel-img');
				const imgXs = document.getElementById('hero-carousel-img-xs');
				const imgLg = document.getElementById('hero-carousel-img-lg');
				if (img && imgXs && imgLg) {
					img.style.opacity = 0;
					setTimeout(() => {
						imgXs.srcset = smallImages[idx];
						imgLg.srcset = largeImages[idx];
						img.src = smallImages[idx];
						img.style.opacity = 1;
					}, 400);
				}
			}, 5000);
		</script>
	</section>
	<!-- Marquee Section -->
    <div class="relative w-full bg-[#0e5376] overflow-hidden h-8 flex items-center z-10">
		<div class="marquee-track flex absolute left-0 top-0 h-full w-full">
		  <div class="marquee-content whitespace-nowrap text-white text-sm font-semibold tracking-wide flex items-center" aria-hidden="true">
			<span class="mx-8 flex items-center gap-2">
			  <span class="text-lg">✨</span>
			  <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
			  <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
			</span>
			<span class="mx-8 flex items-center gap-2">
			  <span class="text-lg">✨</span>
			  <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
			  <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
			</span>
			<span class="mx-8 flex items-center gap-2">
			  <span class="text-lg">✨</span>
			  <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
			  <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
			</span>
		  </div>
		  <div class="marquee-content whitespace-nowrap text-white text-sm font-semibold tracking-wide flex items-center" aria-hidden="true">
			<span class="mx-8 flex items-center gap-2">
			  <span class="text-lg">✨</span>
			  <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
			  <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
			</span>
			<span class="mx-8 flex items-center gap-2">
			  <span class="text-lg">✨</span>
			  <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
			  <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
			</span>
			<span class="mx-8 flex items-center gap-2">
			  <span class="text-lg">✨</span>
			  <span>Join us as we redefine convenience, empower vendors, and make daily life simpler—one service at a time.</span>
			  <span class="ml-3 px-2 py-0.5 rounded-full bg-white/20 text-xs font-bold flex items-center gap-1"><span class="text-yellow-300">⏳</span>Coming soon</span>
			</span>
		  </div>
		</div>
	  </div>
	  <style>
		@keyframes marquee-scroll {
		  0% { transform: translateX(0); }
		  100% { transform: translateX(-100%); }
		}
		.marquee-track {
		  width: 200%;
		  animation: marquee-scroll 36s linear infinite;
		}
		.marquee-content {
		  width: 50%;
		  min-width: max-content;
		  display: flex;
		  align-items: center;
		}
	  </style>

	<CategoriesSection />

	<ServicesSection />

	<style>
	@keyframes scroll-horizontal {
		0% { transform: translateX(0); }
		100% { transform: translateX(-50%); }
	}
	.animate-scroll-horizontal {
		width: max-content;
	}
	</style>

	<ShopkeeperCTA />
	<BentoSection />
	<CustomerCTA />

</GlobalLayout>